<template>
  <span class="avatar-container" :style="avatarStyle" @click="logout">
    <svg viewBox="0 0 1024 1024" version="1.1" :width="size" :height="size"><path d="M776.226905 148.865176a471.312573 471.312573 0 0 1 82.338972 77.886834c24.000608 29.066834 44.572557 60.385324 61.767022 94.160167a492.805655 492.805655 0 0 1 52.453354 221.481087 481.137982 481.137982 0 0 1-36.589413 187.552723 491.526305 491.526305 0 0 1-98.765827 152.652053 469.470309 469.470309 0 0 1-146.10178 103.217965 429.145194 429.145194 0 0 1-179.620753 38.175807 426.074754 426.074754 0 0 1-178.546098-38.175807 475.201797 475.201797 0 0 1-146.61352-103.217965 480.882112 480.882112 0 0 1-98.868175-152.652053 488.711734 488.711734 0 0 1-36.026499-187.603897c0-37.971111 4.298616-75.276959 12.895849-111.815198 8.597233-36.589413 20.776645-71.336561 36.538239-104.292619A465.683433 465.683433 0 0 1 159.733684 233.762848c23.335346-28.657442 49.434087-54.500314 78.245051-77.375093 15.096331-11.514151 31.369664-15.761593 48.871174-12.947023 17.501509 2.916918 31.727882 11.872369 42.730293 26.917526 10.951237 15.045157 15.045157 31.881404 12.332935 50.508742a68.266121 68.266121 0 0 1-25.740524 45.135471 330.942281 330.942281 0 0 0-99.277567 121.538258 353.919409 353.919409 0 0 0-34.491279 154.801361c0 47.284779 8.597233 91.90851 25.68935 133.82002a347.16444 347.16444 0 0 0 70.517777 109.665889 337.18551 337.18551 0 0 0 104.957881 74.202306c40.171593 18.269119 82.901886 27.378092 128.190879 27.378092 45.237819 0 87.968112-9.108973 128.139706-27.378092a337.287858 337.287858 0 0 0 104.906707-74.202306 353.765887 353.765887 0 0 0 71.029517-109.665889c17.501509-41.962683 26.252264-86.53524 26.252264-133.82002a352.281841 352.281841 0 0 0-36.998805-158.588237 331.351673 331.351673 0 0 0-103.985575-123.073479 64.990985 64.990985 0 0 1-27.275744-44.111991c-3.121614-18.627337 0.51174-35.821803 10.797715-51.634569 10.285975-14.993983 24.358826-24.15413 42.218553-27.378092 17.859727-3.223962 34.286582 0.51174 49.382913 11.25828zM511.759654 545.514878c-17.859727 0-33.10958-6.65262-45.851907-19.855513a66.782075 66.782075 0 0 1-19.036729-47.898867V69.289601c0-18.627337 6.345576-34.798322 19.036729-48.359434 12.742327-13.612285 27.99218-20.469601 45.851907-20.469601 18.524989 0 34.081886 6.857316 46.824214 20.469601 12.691153 13.561111 19.036729 29.680922 19.036729 48.359434v408.522071c0 18.678511-6.345576 34.593626-19.036729 47.898867a62.432284 62.432284 0 0 1-46.824214 19.855513z" fill="#BC3F4E" p-id="1930"></path></svg>
    <img :src="avatarImgUrl" alt="" :style="avatarStyle">
  </span>
</template>

<script>
export default {
  name: 'Avatar',
  props: {
    size: Number
  },
  data: function () {
    return {
      avatarStyle: {
        width: this.size + 'px',
        height: this.size + 'px'
      }
    }
  },
  computed: {
    avatarImgUrl: function () {
      return this.$store.state.avatarURL
    }
  },
  methods: {
    logout: function () {
      this.$store.dispatch('logout')
    }
  }
}
</script>

<style>
span.avatar-container {
  position: relative;
  display: inline-block;
  border-radius: 50%;
  overflow: hidden;
  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.2);
}
span.avatar-container > * {
  position: absolute;
  top: 0;
  left: 0;
  transition: all 0.5s ease-in-out;
}
span.avatar-container > img {
  object-fit: cover;
  z-index: 100;
  opacity: 1;
}
span.avatar-container:hover > img {
  opacity: 0;
}
span.avatar-container > svg {
  z-index: 50;
  opacity: 0;
}
span.avatar-container:hover > svg {
  opacity: 1;
}
</style>
